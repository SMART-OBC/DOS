<?xml version="1.0" encoding="UTF-8"?>
<odoo>

    <template id="portal_my_home_avware_unit" name="Show Avware Unit Orders"
              inherit_id="portal.portal_my_home" priority="70">
        <xpath expr="//div[hasclass('o_portal_docs')]" position="inside">
            <t t-call="portal.portal_docs_entry">
                <t t-set="title">Payslip</t>
                <t t-set="url" t-value="'/my/payslip'"/>
                <t t-set="placeholder_count" t-value="'payslip_count'"/>
            </t>
            <t t-call="portal.portal_docs_entry">
                <t t-set="title">Time Off</t>
                <t t-set="url" t-value="'/my/avware_unit'"/>
                <t t-set="placeholder_count" t-value="'time_off_count'"/>
            </t>
            <t t-call="portal.portal_docs_entry">
                <t t-set="title">Employee Requests</t>
                <t t-set="url" t-value="'/my/employee_request'"/>
                <t t-set="placeholder_count" t-value="'employee_request_count'"/>
            </t>
        </xpath>
    </template>

    <template id="portal_time_off_details">
        <t t-call="portal.portal_layout">
            <section class='ddd'>
                <div class="row">
                    <div class="col-8">
                        <div>
                            <t t-call="portal_user_to_developer.portal_my_orders">
                            </t>
                        </div>
                    </div>
                    <div class="col-4">
                        <div class="" style="padding-top:15mm;">
                            <h5>My Requests</h5>
                        </div>
                        <div>
                            <div class="o_portal_docs list-group" style="max-width:389px; padding-top:1mm;">
                                <div class="leaderboard__profiles">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </t>
    </template>


    <template id="portal_my_orders">
        <section class='dd'>
            <form action="/timeoff/submits" enctype="multipart/form-data" method="post">
                <div class="cover">
                    <h3 class="" style="padding-left: 8mm; padding-top:2mm;">LEAVE REQUEST
                    </h3>
                    <div class="selection" style="position: absolute; left: 11mm; top: 21mm;">
                        <label for="cars">Reason Type</label>&amp;nbsp;
                        <select id="time_off_type" name="time_off_type">
                        </select>
                    </div>
                    <div class="form__group field"
                         style="position: absolute; left: 11mm; font-weight: bold; top:31mm;">
                        From &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                        <input type="date" id="date_from" name="start date" required="required"></input>
                        To :
                        <input type="date" id="date_to" name="to date" required="required"></input>
                    </div>
                    <div class="text-left" style="padding-top: 19mm; padding-left:11mm; padding-top:38mm;">
                        Description
                        &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
                        <input type="text" class="o_input" id="description" name="description"
                               style="width:88mm; height:20mm;"/>
                    </div>
                    <div class="text-left" style=" padding-left:11mm; padding-top:5mm;">
                        Upload a file &amp;nbsp;&amp;nbsp;
                        <input type="file" id="myfile" name="myfile" multiple="true"
                               accept="image/*,application/pdf,video/*"/>
                    </div>
                    <div class="" style="padding-top:10mm; padding-left: 43mm;">
                        <button class="button-40" id="button-40">SUBMIT
                        </button>
                    </div>
                </div>
            </form>
        </section>
    </template>

    <template id="my_time_off_details">
        <t t-call="portal.portal_layout">
            <h3>My request details</h3>
            <table class="my_time_off_table" style="margin-top:10px; width:100%; margin-left:20px;">
                <thead style="display: table-row-group; background-color:#8DB2D7; border: 0.3rem solid #8DB2D7;
                        border-bottom: none;">
                    <tr>
                        <th class="" style="width: 20%; color: white;" scope="col">
                            Start date
                        </th>
                        <th class="" style="width: 20%; color: white;" scope="col">
                            End date
                        </th>
                        <th class="" style="width: 20%; color: white;" scope="col">
                            Time off type
                        </th>
                        <th class="" style="width: 20%; color: white;" scope="col">
                            Description
                        </th>
                        <th class="" style="width: 20%; color: white;" scope="col">
                            Documents
                        </th>
                    </tr>
                </thead>
                <body>
                    <t t-foreach='value' t-as='val'>
                        <tr>
                            <td style="border: 0.2rem solid black;  border-top: none;">
                                <t t-esc="val['from']"/>
                            </td>
                            <td style="border: 0.2rem solid black;  border-top: none;">
                                <t t-esc="val['to']"/>
                            </td>
                            <td style="border: 0.2rem solid black;  border-top: none;">
                                <t t-esc="val['type']"/>

                            </td>
                            <td style="border: 0.2rem solid black; border-top: none;">
                                <t t-esc="val['description']"/>
                            </td>
                            <td style="border: 0.2rem solid black; border-top: none;">
                                <t t-if="val['document']">
                                    <t t-foreach="val['document']" t-as="document">
                                        <a t-att-href="'/attachment/download?attachment_id=%i' % document.id">
                                                <div class="text-left"
                                                     style="overflow-wrap:break-word">
                                                    <t t-esc="document.name"/>
                                                </div>
                                        </a>
                                    </t>
                                </t>
                                <t t-else="">
                                    No documents
                                </t>
                            </td>
                        </tr>
                    </t>
                </body>
            </table>
            <div class="text-center" style="padding-top:10mm; ">
                <button class="button-40" style="background-color: #0f0c0dbf;">
                    <a role="menuitem" t-attf-href="/my/avware_unit" style="color: #f8f9fa;">
                        Back
                    </a>
                </button>
            </div>
        </t>
    </template>
    <template id="time_off_done">
        <t t-call="portal.portal_layout">
            <h2>
                Time off request successfully created...!
            </h2>
            <div class="text-center" style="padding-top:10mm; ">
                <button class="button-40" style="background-color: #0f0c0dbf;">
                    <a role="menuitem" t-attf-href="/my/avware_unit" style="color: #f8f9fa;">
                        Back
                    </a>
                </button>
            </div>
        </t>
    </template>
    <template id="my_payslip_template">
        <t t-call="portal.portal_layout">
            <section class='payslip'>
                <form action="/payslip/submits">
                    <div class="row">
                        <div class="col-6" style="padding-top:20px;">
                            <div class="form__group field"
                                 style="font-weight: bold;">Date:
                                <input type="month" id="date_from" name="start date" required="required">

                                </input>
                            </div>
                            <div class="" style="padding-top:10mm; padding-left: 38mm;">
                                <button class="button-40" id="button-40">SUBMIT
                                </button>
                            </div>
                        </div>
                        <div class="col-6">
                            <t t-if="document">
                                <t t-foreach="document" t-as="document">
                                    <a t-att-href="'/attachment/download?attachment_id=%i' % document.id">
                                        <div style="width:80px;">
                                            <div class='text-center oe_attachment_embedded o_image img-responsive'
                                                 style="margin-bottom:-21px; width:81; height:112;"
                                                 t-att-title="document.name"
                                                 t-att-data-mimetype="document.mimetype"
                                                 t-attf-data-src="/web/image/#{document.id}"/>
                                            <div class="text-center"
                                                 style="overflow-wrap:break-word">
                                                <t t-esc="document.name"/>
                                            </div>
                                        </div>
                                    </a>
                                </t>
                            </t>
                            <t t-else="">
                                <div class="alert alert-danger">
                                    No documents Found....!
                                </div>
                            </t>
                        </div>
                    </div>
                </form>
            </section>
        </t>
    </template>
</odoo>


